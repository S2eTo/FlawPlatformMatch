(function(e){function t(t){for(var r,a,i=t[0],c=t[1],s=t[2],f=0,l=[];f<i.length;f++)a=i[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(l.length)l.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(u.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},u=[];function i(e){return c.p+"static/js/"+({}[e]||e)+"."+{"chunk-2c15c458":"e5419598","chunk-2ed27e6e":"c9c61f4a","chunk-3e715f6e":"6cb8e767","chunk-64300f16":"3cc36f7e"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-2c15c458":1,"chunk-2ed27e6e":1,"chunk-3e715f6e":1,"chunk-64300f16":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="static/css/"+({}[e]||e)+"."+{"chunk-2c15c458":"72792ec5","chunk-2ed27e6e":"d89239ff","chunk-3e715f6e":"e86d48c5","chunk-64300f16":"f1fa9b33"}[e]+".css",o=c.p+r,u=document.getElementsByTagName("link"),i=0;i<u.length;i++){var s=u[i],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===o))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){s=l[i],f=s.getAttribute("data-href");if(f===r||f===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],d.parentNode.removeChild(d),n(u)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=u);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=i(e);var l=new Error;s=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=f;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0ca3":function(e,t,n){},1:function(e,t){},"267d":function(e,t,n){},3394:function(e,t,n){},"45df":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"baseURL",(function(){return E})),n.d(r,"baseVer",(function(){return M})),n.d(r,"exec",(function(){return S}));var a=n("1da1"),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("c607"),n("2c3e"),n("25f0"),n("b0c0"),n("2b0e")),u=n("5c96"),i=n.n(u),c=(n("0fae"),n("45df"),n("0ca3"),n("f2b1"),n("267d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),s=[],f=(n("034f"),n("2877")),l={},d=Object(f["a"])(l,c,s,!1,null,null,null),p=d.exports,h=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));o["default"].use(h["a"]);var g=[{path:"/",name:"Index",component:function(){return n.e("chunk-2c15c458").then(n.bind(null,"d504"))},meta:{authorization:!0,title:"比赛"}},{path:"/login",name:"Login",component:function(){return n.e("chunk-2ed27e6e").then(n.bind(null,"a55b"))},meta:{title:"登录"}},{path:"/twinkingstar",name:"Twinkingstar",component:function(){return n.e("chunk-3e715f6e").then(n.bind(null,"8339"))},meta:{authorization:!0,title:"比赛态势"}},{path:"/countdown",name:"CountDown",component:function(){return n.e("chunk-64300f16").then(n.bind(null,"ed25"))},meta:{authorization:!0,title:"比赛倒计时"}}],m=new h["a"]({mode:"hash",base:"/",routes:g}),v=m,b=n("2f62"),w={userInfo:{id:-1,username:"",team:{id:-1,name:""},first_name:""},is_login:!1},y={userinfo:function(e){return e.userInfo}},k={login:function(e,t){e.userInfo=t,e.is_login=!0}};o["default"].use(b["a"]);var x=new b["a"].Store({state:w,getters:y,mutations:k,actions:{},modules:{}}),P=(n("a15b"),n("bc3a")),j=n.n(P),O=n("4328"),_=n.n(O),E="",M="v1";function S(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{headers:{"Content-Type":"application/x-www-form-urlencoded"}};"application/x-www-form-urlencoded"===o["headers"]["Content-Type"]&&(n=_.a.stringify(n));var i=u["Loading"].service({fullscreen:!0,text:"拼命加载中",background:"rgba(0, 0, 0, 0.8)",spinner:"el-icon-loading"});return new Promise((function(c,s){j.a[e](t,n,o).then((function(e){i.close(),c(e)})).catch((function(e){i.close();try{if(403===e.status||"身份认证信息未提供。"===e.data.detail)return r.$router.push({path:"/login",query:{next:r.$route.fullPath}}),void u["Message"].warning("请先登录！");if(400===e.status&&e.data.data.hasOwnProperty("form_errors")){r.errors=e.data.data.errors;var t=e.data.data.errors,n="";for(var o in t){var c=t[o];r.errors[o]=t[o].join(""),n+=c.join(", ")+", "}return!e.data.data.hasOwnProperty("captcha_errors")&&a&&r.get_captcha(),void u["Message"].error(n.substring(0,n.length-2))}}catch(f){}s(e)}))}))}j.a.defaults.timeout=3e4,j.a.defaults.baseURL="".concat(E,"/").concat(M,"/"),j.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),j.a.interceptors.response.use((function(e){return e.data}),(function(e){return e&&e.response?500===e.response.status?void u["Message"].error("服务器出错！请联系管理员！"):Promise.reject(e.response):(u["Message"].error("网络连接错误, 请检查网络"),Promise.reject({code:0,message:"网络连接错误, 请检查网络",data:{}}))}));n("3394");i.a.Dialog.props.lockScroll.default=!1,o["default"].use(i.a),o["default"].config.productionTip=!1,o["default"].prototype.channels=new o["default"],o["default"].prototype.$store=x,o["default"].prototype.$request=r,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var T="信息安全对战平台";v.beforeEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.meta.hasOwnProperty("authorization")||x.state.is_login){e.next=13;break}return e.prev=1,e.next=4,S("post","checkin",null,o["default"]);case 4:a=e.sent,x.commit("login",a.data),e.next=13;break;case 8:return e.prev=8,e.t0=e["catch"](1),i.a.Message.warning("请先登录！"),n.path===t.path&&n.fullPath===t.fullPath?r({path:"/login"}):r({path:n.path}),e.abrupt("return");case 13:if("裁判组"!==x.state.userInfo.team.name||"Index"!==t.name){e.next=16;break}return r({name:"Twinkingstar"}),e.abrupt("return");case 16:if("裁判组"===x.state.userInfo.team.name||"Twinkingstar"!==t.name&&"CountDown"!==t.name){e.next=19;break}return r({name:"Index"}),e.abrupt("return");case 19:t.meta.hasOwnProperty("title")&&(document.title=t.meta.title+" | "+T),r();case 21:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}()),new o["default"]({router:v,store:x,render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,t,n){},f2b1:function(e,t,n){}});
//# sourceMappingURL=app.4e052c0a.js.map